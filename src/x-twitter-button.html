<polymer-element name="x-twitter-button" attributes="lang count size tweetText url hashtag via related dnt height width">

	<template>	
		<iframe scrolling="no" frameborder="0" allowtransparency="true" 
			src="https://platform.twitter.com/widgets/tweet_button.html?count={{count}}&id=twitter-widget-0&lang={{lang}}&hashtags={{hashtag}}&original_referer={{referer}}&size={{size}}&text={{tweetText}}&url={{url}}&related={{related}}&dnt={{dnt}}{{via}}" class="twitter-share-button twitter-tweet-button twitter-count-{{count}} {{size}}" title="Twitter Tweet Button" data-twttr-rendered="true" style="height:{{height}}px;width:{{width}}px"></iframe>
		
			
		<style>
		.twitter-share-button {width:110px; height:20px;}
		.twitter-share-button.l {width:140px; height:28px;}
		.twitter-share-button.twitter-count-vertical {width:65px; height:62px;}	
		.twitter-share-button.twitter-count-none {width:90px;}		
		</style>
	</template>

	<script>
		Polymer('x-twitter-button', {
			lang: this.lang ? this.lang : 'en',
			count: this.count ? this.count : 'horizontal', 
			size: this.size ? this.size : 'm',
			referer: encodeURIComponent(document.location.href),
			tweetText: this.tweetText ? this.tweetText : escape(document.title),
			url: this.url ? this.url : encodeURIComponent(window.location.href),
			hashtag: this.hashtag ? this.hashtag : '',
			related: this.related ? this.related : '',
			dnt: this.dnt ? true : false,
			height: '',
			width: '',
			ready: function() {
				this.getVia()
				},
			getVia: function() {
				var v = '';
				if(this.via){
					v = '&via='+this.via;
				}
				this.via = v;
			}
			
		});
	</script>

</polymer-element>